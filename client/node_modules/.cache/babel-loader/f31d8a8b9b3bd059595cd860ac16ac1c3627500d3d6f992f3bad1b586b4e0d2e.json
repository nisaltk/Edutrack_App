{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{ThemeProvider}from'styled-components';import{lightTheme,darkTheme,GlobalStyles}from'./styles/globalStyles';import Navbar from'./components/Navbar';import Sidebar from'./components/Sidebar';import Dashboard from'./pages/Dashboard';import Teachers from'./pages/Teachers';import Performance from'./pages/Performance';import Feedback from'./pages/Feedback';import Training from'./pages/Training';import Milestones from'./pages/Milestones';import Login from'./pages/Login';import Profile from'./pages/Profile';import'./styles/animations.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[theme,setTheme]=useState('light');const[isLoggedIn,setIsLoggedIn]=useState(false);const[user,setUser]=useState(null);const[teacherCount,setTeacherCount]=useState(0);useEffect(()=>{const savedTheme=localStorage.getItem('theme');if(savedTheme){setTheme(savedTheme);}const token=localStorage.getItem('token');const userData=localStorage.getItem('user');if(token&&userData){setIsLoggedIn(true);setUser(JSON.parse(userData));}// Load initial teacher count\nupdateTeacherCount();},[]);const updateTeacherCount=()=>{try{const teachers=JSON.parse(localStorage.getItem('teachers')||'[]');setTeacherCount(teachers.length);}catch(error){console.error('Error updating teacher count:',error);}};const handleUpdateUser=updatedUser=>{setUser(updatedUser);localStorage.setItem('user',JSON.stringify(updatedUser));};const toggleTheme=()=>{const newTheme=theme==='light'?'dark':'light';setTheme(newTheme);localStorage.setItem('theme',newTheme);};const handleLogin=(userData,token)=>{setIsLoggedIn(true);setUser(userData);localStorage.setItem('token',token);localStorage.setItem('user',JSON.stringify(userData));};const handleLogout=()=>{setIsLoggedIn(false);setUser(null);localStorage.removeItem('token');localStorage.removeItem('user');};if(!isLoggedIn){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme==='light'?lightTheme:darkTheme,children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})]});}return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme==='light'?lightTheme:darkTheme,children:[/*#__PURE__*/_jsx(GlobalStyles,{}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout,toggleTheme:toggleTheme,theme:theme}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Dashboard,{user:user,teacherCount:teacherCount})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{user:user,teacherCount:teacherCount})}),/*#__PURE__*/_jsx(Route,{path:\"/teachers\",element:/*#__PURE__*/_jsx(Teachers,{onTeacherChange:updateTeacherCount})}),/*#__PURE__*/_jsx(Route,{path:\"/performance\",element:/*#__PURE__*/_jsx(Performance,{})}),/*#__PURE__*/_jsx(Route,{path:\"/feedback\",element:/*#__PURE__*/_jsx(Feedback,{})}),/*#__PURE__*/_jsx(Route,{path:\"/training\",element:/*#__PURE__*/_jsx(Training,{})}),/*#__PURE__*/_jsx(Route,{path:\"/milestones\",element:/*#__PURE__*/_jsx(Milestones,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{user:user,onUpdateUser:handleUpdateUser})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})]})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","ThemeProvider","lightTheme","darkTheme","GlobalStyles","Navbar","Sidebar","Dashboard","Teachers","Performance","Feedback","Training","Milestones","Login","Profile","jsx","_jsx","jsxs","_jsxs","App","theme","setTheme","isLoggedIn","setIsLoggedIn","user","setUser","teacherCount","setTeacherCount","savedTheme","localStorage","getItem","token","userData","JSON","parse","updateTeacherCount","teachers","length","error","console","handleUpdateUser","updatedUser","setItem","stringify","toggleTheme","newTheme","handleLogin","handleLogout","removeItem","children","onLogin","className","onLogout","path","element","onTeacherChange","onUpdateUser","to"],"sources":["C:/Users/Nisal/Downloads/web/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { lightTheme, darkTheme, GlobalStyles } from './styles/globalStyles';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport Dashboard from './pages/Dashboard';\nimport Teachers from './pages/Teachers';\nimport Performance from './pages/Performance';\nimport Feedback from './pages/Feedback';\nimport Training from './pages/Training';\nimport Milestones from './pages/Milestones';\nimport Login from './pages/Login';\nimport Profile from './pages/Profile';\nimport './styles/animations.css';\n\nfunction App() {\n  const [theme, setTheme] = useState('light');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const [teacherCount, setTeacherCount] = useState(0);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme');\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n    \n    const token = localStorage.getItem('token');\n    const userData = localStorage.getItem('user');\n    \n    if (token && userData) {\n      setIsLoggedIn(true);\n      setUser(JSON.parse(userData));\n    }\n\n    // Load initial teacher count\n    updateTeacherCount();\n  }, []);\n\n  const updateTeacherCount = () => {\n    try {\n      const teachers = JSON.parse(localStorage.getItem('teachers') || '[]');\n      setTeacherCount(teachers.length);\n    } catch (error) {\n      console.error('Error updating teacher count:', error);\n    }\n  };\n\n  const handleUpdateUser = (updatedUser) => {\n    setUser(updatedUser);\n    localStorage.setItem('user', JSON.stringify(updatedUser));\n  };\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n  };\n\n  const handleLogin = (userData, token) => {\n    setIsLoggedIn(true);\n    setUser(userData);\n    localStorage.setItem('token', token);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setUser(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <ThemeProvider theme={theme === 'light' ? lightTheme : darkTheme}>\n        <GlobalStyles />\n        <Login onLogin={handleLogin} />\n      </ThemeProvider>\n    );\n  }\n\n  return (\n    <ThemeProvider theme={theme === 'light' ? lightTheme : darkTheme}>\n      <GlobalStyles />\n      <Router>\n        <div className=\"app\">\n          <Navbar user={user} onLogout={handleLogout} toggleTheme={toggleTheme} theme={theme} />\n          <div className=\"main-content\">\n            <Sidebar />\n            <div className=\"content\">\n              <Routes>\n                <Route path=\"/\" element={<Dashboard user={user} teacherCount={teacherCount} />} />\n                <Route path=\"/dashboard\" element={<Dashboard user={user} teacherCount={teacherCount} />} />\n                <Route \n                  path=\"/teachers\" \n                  element={<Teachers onTeacherChange={updateTeacherCount} />} \n                />\n                <Route path=\"/performance\" element={<Performance />} />\n                <Route path=\"/feedback\" element={<Feedback />} />\n                <Route path=\"/training\" element={<Training />} />\n                <Route path=\"/milestones\" element={<Milestones />} />\n                <Route path=\"/profile\" element={<Profile user={user} onUpdateUser={handleUpdateUser} />} />\n                <Route path=\"*\" element={<Navigate to=\"/\" />} />\n              </Routes>\n            </div>\n          </div>\n        </div>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}